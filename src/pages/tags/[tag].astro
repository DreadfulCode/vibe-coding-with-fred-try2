---
import Layout from '../../layouts/Layout.astro';
import PostCard from '../../components/PostCard.astro';

export function getStaticPaths() {
  return [
    { params: { tag: 'react' } },
    { params: { tag: 'javascript' } },
    { params: { tag: 'typescript' } },
    { params: { tag: 'astro' } },
    { params: { tag: 'frontend' } },
    { params: { tag: 'supabase' } }
  ];
}

const { tag } = Astro.params;

// In a real implementation, we would fetch these from a CMS or content collection
const allPosts = [
  {
    title: "Getting Started with Modern React Patterns",
    slug: "getting-started-with-modern-react-patterns",
    pubDate: new Date('2025-04-10'),
    description: "Learn the latest React patterns and best practices for building scalable applications in 2025.",
    image: "https://images.pexels.com/photos/11035471/pexels-photo-11035471.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",
    tags: ["react", "javascript", "frontend"],
    featured: true
  },
  {
    title: "Building a Full-Stack App with Astro and Supabase",
    slug: "building-fullstack-app-with-astro-supabase",
    pubDate: new Date('2025-04-01'),
    description: "A step-by-step guide to creating a full-stack application using Astro and Supabase.",
    image: "https://images.pexels.com/photos/4974914/pexels-photo-4974914.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",
    tags: ["astro", "supabase", "fullstack"],
    featured: true
  },
  {
    title: "Advanced TypeScript Techniques for Better Code",
    slug: "advanced-typescript-techniques",
    pubDate: new Date('2025-03-28'),
    description: "Improve your TypeScript skills with these advanced techniques for writing safer, more maintainable code.",
    image: "https://images.pexels.com/photos/1181675/pexels-photo-1181675.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",
    tags: ["typescript", "javascript", "dev-tools"],
    featured: false
  },
  {
    title: "CSS Grid Mastery: Building Complex Layouts",
    slug: "css-grid-mastery",
    pubDate: new Date('2025-03-22'),
    description: "Master CSS Grid to create complex, responsive layouts with less code and better maintainability.",
    image: "https://images.pexels.com/photos/196645/pexels-photo-196645.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",
    tags: ["css", "frontend", "web-design"],
    featured: false
  },
  {
    title: "Performance Optimization Techniques for Modern Web Apps",
    slug: "performance-optimization-web-apps",
    pubDate: new Date('2025-03-15'),
    description: "Learn how to optimize your web applications for better performance and user experience.",
    image: "https://images.pexels.com/photos/3861969/pexels-photo-3861969.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",
    tags: ["performance", "web-dev", "optimization"],
    featured: false
  },
  {
    title: "Introduction to WebAssembly for JavaScript Developers",
    slug: "webassembly-for-javascript-devs",
    pubDate: new Date('2025-03-10'),
    description: "Dive into WebAssembly and learn how to integrate it with your JavaScript projects for improved performance.",
    image: "https://images.pexels.com/photos/1092644/pexels-photo-1092644.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",
    tags: ["webassembly", "javascript", "performance"],
    featured: false
  }
];

const taggedPosts = allPosts.filter(post => post.tags.includes(tag));
---

<Layout title={`Posts tagged with #${tag}`}>
  <div class="bg-gradient-to-b from-primary-50 to-white py-12">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="max-w-3xl mx-auto text-center">
        <span class="inline-block mb-4 px-3 py-1 text-sm font-medium rounded-full bg-primary-100 text-primary-800">
          Tag
        </span>
        <h1 class="text-3xl font-bold text-gray-900 mb-4">#{tag}</h1>
        <p class="text-lg text-gray-600">
          Browse all articles tagged with #{tag}
        </p>
      </div>
    </div>
  </div>
  
  <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-12">
    {taggedPosts.length > 0 ? (
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
        {taggedPosts.map(post => (
          <PostCard post={post} />
        ))}
      </div>
    ) : (
      <div class="text-center py-12">
        <h2 class="text-2xl font-bold text-gray-900 mb-4">No posts found</h2>
        <p class="text-gray-600 mb-8">There are no posts with the tag #{tag} yet.</p>
        <a href="/blog" class="px-6 py-3 bg-primary-600 text-white font-medium rounded-lg shadow-sm hover:bg-primary-700 transition-colors">
          Browse all posts
        </a>
      </div>
    )}
  </div>
</Layout>